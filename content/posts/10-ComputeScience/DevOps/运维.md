---
scope: learn
draft: true
---

# 网络文章
## Zhanming's Blog
[Categories - Zhanming's blog](https://qizhanming.com/blog/categories#Linux)
### Linux
-   2022-01-25 - [Rocky 8 使用 cephadm 安装 Ceph 16.2 实验 NFS 服务](http://qizhanming.com/blog/2022/01/25/how-to-install-ceph-pacific-and-export-nfs-on-rocky-8 "Rocky 8 使用 cephadm 安装 Ceph 16.2 实验 NFS 服务")
-   2022-01-17 - [Rocky 8 安装后的系统初始化](http://qizhanming.com/blog/2022/01/17/initial-server-setup-with-rocky-8 "Rocky 8 安装后的系统初始化")
-   2021-03-18 - [Ubuntu 20.04 上设置静态 IP 地址](http://qizhanming.com/blog/2021/03/18/how-to-config-static-ip-on-ubuntu-20-04 "Ubuntu 20.04 上设置静态 IP 地址")
-   2020-12-31 - [CentOS 8 配置 VNC Server](http://qizhanming.com/blog/2020/12/31/how-to-config-vnc-server-on-centos-8 "CentOS 8 配置 VNC Server")
-   2020-06-24 - [CentOS 8 配置 ProxySQL Cluster](http://qizhanming.com/blog/2020/06/24/how-to-install-proxysql-cluster-on-centos-8 "CentOS 8 配置 ProxySQL Cluster")
-   2020-06-22 - [CentOS 8 安装 Percona XtraDB Cluster 8.0](http://qizhanming.com/blog/2020/06/22/how-to-install-percona-xtradb-cluster-on-centos-8 "CentOS 8 安装 Percona XtraDB Cluster 8.0")
-   2020-05-12 - [CentOS 8 配置 Redis Sentinel](http://qizhanming.com/blog/2020/05/12/how-to-config-redis-sentinel-on-centos-8 "CentOS 8 配置 Redis Sentinel")
-   2020-04-29 - [CentOS 8 安装 Tomcat 9](http://qizhanming.com/blog/2020/04/29/how-to-install-tomcat-9-on-centos-8 "CentOS 8 安装 Tomcat 9")
-   2020-04-28 - [CentOS 8 安装 FreeIPA 主从复制](http://qizhanming.com/blog/2020/04/28/how-to-install-freeipa-server-and-replica-on-centos-8 "CentOS 8 安装 FreeIPA 主从复制")
-   2020-04-16 - [CentOS 7 安装 Redmine 4.1](http://qizhanming.com/blog/2020/04/16/how-to-install-and-config-redmine-4-on-centos-7 "CentOS 7 安装 Redmine 4.1")
-   2020-02-17 - [CentOS 7 上配置 Mycat 对 MySQL 的读写分离](http://qizhanming.com/blog/2020/02/17/how-to-config-mycat-read-write-splitting-on-centos-7 "CentOS 7 上配置 Mycat 对 MySQL 的读写分离")
-   2020-01-06 - [CentOS 8 安装后的系统初始化](http://qizhanming.com/blog/2020/01/06/initial-server-setup-with-centos-8 "CentOS 8 安装后的系统初始化")
-   2019-08-22 - [CentOS 7 配置 ProxySQL 2 集成 Percona XtraDB Cluster](http://qizhanming.com/blog/2019/08/22/how-to-install-and-config-proxysql-2-on-centos-7 "CentOS 7 配置 ProxySQL 2 集成 Percona XtraDB Cluster")
-   2019-08-10 - [CentOS 7 使用 Postfix, Dovecot 和 MariaDB 搭建邮箱服务](http://qizhanming.com/blog/2019/08/10/how-to-config-email-server-with-postfix-dovecot-and-mariadb-on-centos-7 "CentOS 7 使用 Postfix, Dovecot 和 MariaDB 搭建邮箱服务")
-   2019-07-18 - [CentOS 7 在新磁盘上配置 LVM](http://qizhanming.com/blog/2019/07/18/how-to-config-new-disk-with-lvm-on-centos-7 "CentOS 7 在新磁盘上配置 LVM")
-   2019-05-16 - [CentOS 7 安装 Percona XtraDB Cluster 5.7](http://qizhanming.com/blog/2019/05/16/how-to-install-percona-xtradb-cluster-on-centos-7 "CentOS 7 安装 Percona XtraDB Cluster 5.7")
-   2019-04-29 - [CentOS 7 安装 FreeIPA 主从复制](http://qizhanming.com/blog/2019/04/29/how-to-install-freeipa-server-and-replica-on-centos-7 "CentOS 7 安装 FreeIPA 主从复制")
-   2019-04-23 - [CentOS 7 下 安装 Let's Encrypt 的通配符证书](http://qizhanming.com/blog/2019/04/23/how-to-install-let-s-encrypt-wildcards-certificate-on-centos-7 "CentOS 7 下 安装 Let's Encrypt 的通配符证书")
  - 2019-01-25 - [CentOS 7 下 yum 安装 Docker CE](http://qizhanming.com/blog/2019/01/25/how-to-install-docker-ce-on-centos-7 "CentOS 7 下 yum 安装 Docker CE")
  - 2018-08-16 - [CentOS 7 下 MySQL 5.7 删除大表更快的方法](http://qizhanming.com/blog/2018/08/16/how-to-drop-big-table-in-mysql-57-on-centos-7 "CentOS 7 下 MySQL 5.7 删除大表更快的方法")
  - 2018-08-08 - [CentOS 7 下 yum 安装和配置 NFS](http://qizhanming.com/blog/2018/08/08/how-to-install-nfs-on-centos-7 "CentOS 7 下 yum 安装和配置 NFS")
  - 2018-08-06 - [CentOS 7 下 yum 安装和配置 Nginx](http://qizhanming.com/blog/2018/08/06/how-to-install-nginx-on-centos-7 "CentOS 7 下 yum 安装和配置 Nginx")
  - 2018-05-17 - [CentOS 7 配置 Keepalived 实现双机热备](http://qizhanming.com/blog/2018/05/17/how-to-config-keepalived-on-centos-7 "CentOS 7 配置 Keepalived 实现双机热备")
  - 2018-05-10 - [CentOS 7 更改 MySQL 数据目录](http://qizhanming.com/blog/2018/05/10/how-to-change-mysql-data-directory-on-centos-7 "CentOS 7 更改 MySQL 数据目录")
  - 2018-04-28 - [CentOS 7 调整逻辑卷大小](http://qizhanming.com/blog/2018/04/28/how-to-adjust-logical-volume-size-on-centos-7 "CentOS 7 调整逻辑卷大小")
  - 2018-03-06 - [CentOS 7 配置 VNC Server](http://qizhanming.com/blog/2018/03/06/how-to-config-vnc-server-on-centos-7 "CentOS 7 配置 VNC Server")
  - 2017-11-01 - [CentOS 7 安装后的初始化配置](http://qizhanming.com/blog/2017/11/01/how-to-initial-server-on-centos-7 "CentOS 7 安装后的初始化配置")
  - 2017-06-23 - [CentOS 7 下配置 GitLab CE 9 与 FreeIPA 4 集成](http://qizhanming.com/blog/2017/06/23/how-to-config-gitlab-9-with-freeipa-4-on-centos-7 "CentOS 7 下配置 GitLab CE 9 与 FreeIPA 4 集成")
  - 2017-06-20 - [CentOS 7 配置 MySQL 5.7 主从复制](http://qizhanming.com/blog/2017/06/20/how-to-config-mysql-57-master-slave-replication-on-centos-7 "CentOS 7 配置 MySQL 5.7 主从复制")
  - 2017-06-07 - [CentOS 7 配置 Free IPA 主从复制（本地已有 DNS 服务）](http://qizhanming.com/blog/2017/06/07/how-to-config-freeipa-server-and-replica-on-centos-7 "CentOS 7 配置 Free IPA 主从复制（本地已有 DNS 服务）")
  - 2017-05-31 - [CentOS 7 使用 rvm 安装 ruby 搭建 jekyll 环境](http://qizhanming.com/blog/2017/05/31/install-rvm-and-ruby-buid-jeklly-env-on-centos-7 "CentOS 7 使用 rvm 安装 ruby 搭建 jekyll 环境")
  - 2017-05-27 - [CentOS 7 使用 bind 配置私有网络的 DNS](http://qizhanming.com/blog/2017/05/27/how-to-configure-bind-as-a-private-network-dns-server-on-centos-7 "CentOS 7 使用 bind 配置私有网络的 DNS")
  - 2017-05-17 - [CentOS 7 下 yum 安装 Jenkins](http://qizhanming.com/blog/2017/05/17/how-to-yum-install-jenkins-on-centos-7 "CentOS 7 下 yum 安装 Jenkins")
  - 2017-05-16 - [CentOS 7 下安装和配置 Sonatype Nexus 3.3](http://qizhanming.com/blog/2017/05/16/how-to-install-sonatype-nexus-oss-33-on-centos-7 "CentOS 7 下安装和配置 Sonatype Nexus 3.3")
  - 2017-05-10 - [CentOS 7 下 Yum 安装 MySQL 5.7](http://qizhanming.com/blog/2017/05/10/how-to-yum-install-mysql-57-on-centos-7 "CentOS 7 下 Yum 安装 MySQL 5.7")
  - 2017-05-10 - [CentOS 7 下 MySQL 5.7 配置 Percona Xtrabackup](http://qizhanming.com/blog/2017/05/10/how-to-install-percona-xtrabackup-on-centos-7 "CentOS 7 下 MySQL 5.7 配置 Percona Xtrabackup")
  - 2017-05-04 - [CentOS 7 下配置 HAProxy 和 Let's Encrypt](http://qizhanming.com/blog/2017/05/04/how-to-install-haproxy-with-let-s-encrypt-on-centos-7 "CentOS 7 下配置 HAProxy 和 Let's Encrypt")
  - 2017-02-28 - [CentOS 7 下 Yum 安装 GitLab CE 8.16.6](http://qizhanming.com/blog/2017/02/28/how-to-install-gitlab-ce-on-centos-7 "CentOS 7 下 Yum 安装 GitLab CE 8.16.6")
  - 2016-09-23 - [CentOS 6 下 Yum 安装 MySQL 5.7 备忘](http://qizhanming.com/blog/2016/09/23/how-to-yum-install-mysql57-on-centos-6 "CentOS 6 下 Yum 安装 MySQL 5.7 备忘")
  - 2016-09-21 - [CentOS 6 下配置 SFTP 备忘](http://qizhanming.com/blog/2016/09/21/sftp-chroot-selinux-on-centos-6 "CentOS 6 下配置 SFTP 备忘")
  - 2015-12-23 - [使用 OpenSSL 制作 ECDH 密钥交换证书](http://qizhanming.com/blog/2015/12/23/openssl-ecdh-rsa-certificate "使用 OpenSSL 制作 ECDH 密钥交换证书")
  - 2014-02-13 - [CentOS 6.2 安装 VNC Server](http://qizhanming.com/blog/2014/02/13/install-vncserver-on-centos-6 "CentOS 6.2 安装 VNC Server")
  - 2012-05-05 - [CentOS 6.2 下开发环境搭建 - 安装](http://qizhanming.com/blog/2012/05/05/centos-dev-env-setup "CentOS 6.2 下开发环境搭建 - 安装")

### Java

-   2014-07-10 - [解决 WebLogic 12c 的 jar 包冲突](http://qizhanming.com/blog/2014/07/10/jar-conflict-with-weblogic12c "解决 WebLogic 12c 的 jar 包冲突")
-   2012-08-10 - [从 GitHub 将 Maven 项目导入 Eclipse 4.2](http://qizhanming.com/blog/2012/08/10/import-maven-project-to-eclipse42-from-github "从 GitHub 将 Maven 项目导入 Eclipse 4.2")

#### macOS

-   2021-12-13 - [macOS 使用 diskutil 命令格式化 U 盘](http://qizhanming.com/blog/2021/12/13/how-to-use-diskutil-format-flash-disk-on-macos "macOS 使用 diskutil 命令格式化 U 盘")
-   2021-01-05 - [macOS 上使用 brew 安装 Kafka](http://qizhanming.com/blog/2021/01/05/how-to-install-kafka-on-macos-via-brew "macOS 上使用 brew 安装 Kafka")
-   2020-07-29 - [macOS 上使用 brew 安装 NVM 管理 node.js](http://qizhanming.com/blog/2020/07/29/how-to-install-node-using-nvm-on-macos-with-brew "macOS 上使用 brew 安装 NVM 管理 node.js")
-   2020-03-17 - [macOS 上使用 keytool 生成 keystore](http://qizhanming.com/blog/2020/03/17/how-to-use-keytool-on-macos "macOS 上使用 keytool 生成 keystore")

# 网络配置

## 静态 IP
centos7
[配置CentOS的静态IP和DNS地址 - 知乎](https://zhuanlan.zhihu.com/p/403732033#:~:text=%E5%A6%82%E6%9E%9C%E8%A6%81%E4%BF%AE%E6%94%B9CentOS%E4%B8%BB%E6%9C%BA%E7%9A%84IP%E5%9C%B0%E5%9D%80%E4%B8%BA%E9%9D%99%E6%80%81IP%E4%B8%94%E6%B0%B8%E4%B9%85%E7%94%9F%E6%95%88%EF%BC%8C%E9%9C%80%E8%A6%81%E5%9C%A8%E7%BD%91%E5%8D%A1%E7%9A%84%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E4%B8%AD%E4%BF%AE%E6%94%B9%EF%BC%8C%E5%85%B7%E4%BD%93%E6%96%B9%E6%B3%95%E5%A6%82%E4%B8%8B%E3%80%82%20%E9%A6%96%E5%85%88%E4%BD%BF%E7%94%A8ip,addr%E5%91%BD%E4%BB%A4%E6%9F%A5%E5%88%B0%E7%BD%91%E5%8D%A1%E7%9A%84%E5%90%8D%E7%A7%B0%EF%BC%8C%E6%AF%94%E5%A6%82%E5%A6%82%E4%B8%8B%E7%BD%91%E5%8D%A1%E7%9A%84%E5%90%8D%E7%A7%B0%E4%B8%BAens33%20%E6%9F%A5%E8%AF%A2%E7%BD%91%E5%85%B3%E5%9C%B0%E5%9D%80%EF%BC%8C%E5%A6%82%E4%B8%8B%E7%BD%91%E5%85%B3%E6%98%AF192.168.38.2)

```bash
## /etc/sysconfig/network-scripts/ifcfg-ens33
TYPE="Ethernet"
PROXY_METHOD="none"
BROWSER_ONLY="no"
BOOTPROTO="static"       #static表示静态IP
IPADDR=192.168.38.133    #配置IP地址 
NETMASK=255.255.255.0    #配置掩码地址
GATEWAY=192.168.38.2     #配置网关
DNS1=8.8.8.8             #配置DNS服务器地址，8.8.8.8是谷歌免费的DNS服务器
DEFROUTE="yes"
IPV4_FAILURE_FATAL="no"
IPV6INIT="yes"
IPV6_AUTOCONF="yes"
IPV6_DEFROUTE="yes"
IPV6_FAILURE_FATAL="no"
IPV6_ADDR_GEN_MODE="stable-privacy"
NAME="ens33"
UUID="07b0303f-d194-4c92-a6f9-29bf2cbfbd76"
DEVICE="ens33"
ONBOOT="yes"
ZONE=public

```


Ubuntu：
[ubuntu 16.04 设置静态IP - 简书](https://www.jianshu.com/p/d69a95aa1ed7)


## 静态路由
Windows：
[windows如何添加静态路由_Acettest的博客-CSDN博客_windows 静态路由](https://blog.csdn.net/u010178308/article/details/80969112)
```bash
## 永久路由
route add 10.1.0.0 mask 255.255.0.0 192.165.3.54 -p
## 重启失效
route add 10.1.0.0 mask 255.255.0.0 192.165.3.54
```

Linux：
配置Linux实现静态路由 - SSgeek - 博客园
https://www.cnblogs.com/ssgeek/p/9220690.html
## 端口连通性

服务端可以使用 nc，客户端一般是 windows 的 telnet。

Linux可以使用nc命令来测试网络端口是否正常，类似于telnet命令，但也可以用nc命令来监听本地端口，支持TCP、UDP协议，当我们测试NTP服务网络策略是否正常时，可以使用到nc命令测试UDP 123端口。

使用案例如下：
```
1、测试TCP端口

nc -vz ip tcp-port

2、测试UDP

nc -uvz ip udp-port

3、临时监听TCP端口

nc -l port

4、永久监听TCP端口

nc -lk port

5、临时监听UDP

nc -lu port

6、永久监听UDP

nc -luk port
```


# ClickHouse
[记一次 ClickHouse 数据迁移](https://zhuanlan.zhihu.com/p/220172155#:~:text=clickhouse-backup%20%E6%98%AF%E7%A4%BE%E5%8C%BA%E5%BC%80%E6%BA%90%E7%9A%84%E4%B8%80%E4%B8%AA%20ClickHouse%20%E5%A4%87%E4%BB%BD%E5%B7%A5%E5%85%B7%EF%BC%8C%E5%8F%AF%E7%94%A8%E4%BA%8E%E5%AE%9E%E7%8E%B0%E6%95%B0%E6%8D%AE%E8%BF%81%E7%A7%BB%E3%80%82%20%E5%85%B6%E5%8E%9F%E7%90%86%E6%98%AF%E5%85%88%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E5%A4%87%E4%BB%BD%EF%BC%8C%E7%84%B6%E5%90%8E%E4%BB%8E%E5%A4%87%E4%BB%BD%E5%AF%BC%E5%85%A5%E6%95%B0%E6%8D%AE%EF%BC%8C%E7%B1%BB%E4%BC%BC,MySQL%20%E7%9A%84%20mysqldump%20%2B%20SOURCE%E3%80%82)

[ClickHouse 数据迁移](https://cloud.tencent.com/developer/article/1779986)



# MySQL


# 编译环境

centos：

```bash
yum groupinstall -y "Development Tools"
```

ubuntu：
Ubuntu 上一般自带的，不需要安装：


```bash
alexander@Darrykinger:~$ sudo apt-get install build-essential
正在读取软件包列表... 完成
正在分析软件包的依赖关系树       
正在读取状态信息... 完成       
build-essential 已经是最新版 (12.1ubuntu2)。
升级了 0 个软件包，新安装了 0 个软件包，要卸载 0 个软件包，有 483 个软件包未被升级。
``` 

linux操作系统上面开发程序， 光有了gcc 是不行的
它还需要一个   build-essential软件包
作用是提供编译程序必须软件包的列表信息

也就是说 编译程序有了这个软件包
它才知道 头文件在哪 才知道库函数在哪
还会下载依赖的软件包   最后才组成一个开发环境
当然 build-essential包 安装时 需要的依赖包 有些你用不上

软件包: build-essential 安装方法：
sudo apt-get install build-essential
```bash
apt-get install -y build-essential
```

## Npm

[安装 npm](https://docs.npmjs.com/downloading-and-installing-node-js-and-npm)

## Java

[Oracle Java Archive](https://www.oracle.com/java/technologies/downloads/archive/)


## Python
- [在CentOS上安装Python3的三种方法](https://www.cnblogs.com/yunlongaimeng/p/11119531.html)
- [linux-Centos7安装python3并与python2共存](https://www.cnblogs.com/yunlongaimeng/p/11066987.html)


# 常用命令

```bash
## 创建 gzip压缩包
tar -zcpf tar.tgz dir1 dir2
tar -zcpvf tar.tgz dir1 dir2 # 显示内容

## 解压
tar -zxvf tar.tgz
tar -zxvf tar.tgz -C target # 解压 tar.tgz 到 target/tar


```

下载文件
```bash
## 下载网页中的文件，并保持文件名
curl -O http://example.com/file

```

# 定时任务
[Linux的定时任务设置，看这一篇就够了！ - 知乎](https://zhuanlan.zhihu.com/p/372043390)

# Systemd 服务管理

[(200条消息) 使用systemd管理springboot程序_寂寞的4角钱的博客-CSDN博客_springboot systemd](https://blog.csdn.net/liuyij3430448/article/details/128543056): <https://blog.csdn.net/liuyij3430448/article/details/128543056>

# Apk 逆向

- [Android APK 下载](https://mobile.softpedia.com/apk/)

- [rijieli / ios-url-scheme](https://github.com/rijieli/ios-url-scheme)

- [januwA / apk-schemes](https://github.com/januwA/apk-schemes)

# Windows 激活
- [TGSAN / CMWTAT_Digital_Edition](https://github.com/TGSAN/CMWTAT_Digital_Edition/releases)

- [Windows 全新启动](https://support.microsoft.com/zh-cn/windows/%E8%AE%A9%E7%94%B5%E8%84%91%E5%85%A8%E6%96%B0%E5%90%AF%E5%8A%A8-0ef73740-b927-549b-b7c9-e6f2b48d275e#ID0EBD=Windows_10)



# 运维案例

## Websocket

[【WebSocket】断连问题排查](https://blog.csdn.net/shsugar/article/details/121487090)
[WebSocket 经常断开原因，解决办法：心跳机制防止自动断开连接。](https://blog.csdn.net/cai4561/article/details/106809244)

## Linux 误删文件
Linux 误删文件，如果使用这个文件的进程还存在就可以从内存恢复过来。
需要用 lsof 命令找出使用这个文件的 进程 PID，然后可以进入 `/proc/PID/fd` 目录找到相应的文件。
[Linux恢复误删除的文件或者目录 - 简书](https://www.jianshu.com/p/662293f12a47)

## 多线程并发导致 OOM 案例
[java运维: 一次线上问题排查所引发的思考 - harrychinese - 博客园](https://www.cnblogs.com/harrychinese/p/java_ops_prod_issue_trace.html)

## 如何安装程序缺失的依赖库

[where can I find libglib, libgdk, libgtk, and libgdk_pixbuf for CentOS 5? - CentOS](https://forums.centos.org/viewtopic.php?t=14841): <https://forums.centos.org/viewtopic.php?t=14841>

CentOS 可以使用 `yum whatprovides "*/libxxx*"` 查询需要安装的程序。

## JVM 用尽内存后被内核杀进程

- [问题案例#内存溢出](问题案例.md)
